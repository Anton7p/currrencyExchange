(this.webpackJsonpexchange=this.webpackJsonpexchange||[]).push([[0],{110:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(11),i=n.n(r),o=(n(110),n(111),n(13)),s=n(94),u=n(7),l="SET_CURRENCIES",j={currencies:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n=JSON.parse(JSON.stringify(t.currencies)),a=Object.values(n);return a.map((function(e){return e.diff=Number((e.Value-e.Previous).toFixed(4)),e.diff>0&&(e.priceRise=!0),e})),Object(u.a)(Object(u.a)({},e),{},{currencies:a});default:return e}};function d(e){return{type:l,currencies:e}}var O=n(39),m=n(85),p="SET_CONVERT_FROM",f="SET_CONVERT_TO",h="SET_CONVERT",x={convert:[],baseCurrency:{CharCode:"RUB",ID:"1",Name:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0420\u0443\u0431\u043b\u044c",Nominal:1,NumCode:"1",Previous:1,Value:1,diff:0},convertFrom:{},convertTo:null};function v(e){return{type:p,object:e}}function g(e){return{type:f,object:e}}var N="SET_ACTUAL",C={actual:0};function y(e){return{type:N,mode:e}}var T="SET_AMOUNT_TO",w="SET_AMOUNT_FROM",S={amountFrom:"",amountTo:""};function k(e){return{type:T,amount:e}}function I(e){return{type:w,amount:e}}var F=Object(O.c)({Currencies:b,Conversion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var n=JSON.parse(JSON.stringify(t.array));return n.push(e.baseCurrency),Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),e.convert),e.convertFrom),e.convertTo),{},{convertFrom:e.baseCurrency,convert:n,convertTo:e.convertTo||n[0]});case p:return Object(u.a)(Object(u.a)(Object(u.a)({},e),e.convertFrom),{},{convertFrom:t.object});case f:return Object(u.a)(Object(u.a)(Object(u.a)({},e),e.convertFrom),{},{convertTo:t.object});default:return e}},ActualTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(u.a)(Object(u.a)({},e),{},{actual:t.mode});default:return e}},Amount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(u.a)(Object(u.a)(Object(u.a)({},e),e.amountFrom),{},{amountFrom:t.amount});case T:return Object(u.a)(Object(u.a)(Object(u.a)({},e),e.amountTo),{},{amountTo:t.amount});default:return e}}}),M=Object(O.d)(F,Object(O.a)(m.a)),E=n(69),R=n.n(E),z=n(86),A=n(87),V=n.n(A),B=function(){return V.a.get("https://www.cbr-xml-daily.ru/daily_json.js",{"Access-Control-Allow-Origin":"*"}).then((function(e){return e.data.Valute}))},_=n(58),W=n(175),H=n(173),J=Object(H.a)((function(e){return{root:{minHeight:window.innerHeight,position:"relative",backgroundColor:e.palette.info.light,padding:0},content:{backgroundColor:e.palette.info.light,position:"sticky",padding:0,top:0,zIndex:1e3},header:{display:"flex",justifyContent:"center"},paper:{borderRadius:"0","& .MuiTab-root":{color:e.palette.primary.dark,fontSize:e.spacing(1.5),width:"50%",maxWidth:"none"},"& .MuiTabs-indicator":{backgroundColor:e.palette.primary.main}},input:{marginTop:e.spacing(5),position:"sticky",top:e.spacing(17),autoComplete:"off",zIndex:999,"& .MuiInputBase-root":{fontSize:e.spacing(2),minHeight:e.spacing(5)}},button:{marginTop:e.spacing(2),position:"sticky",top:e.spacing(7),zIndex:999},title:{fontSize:e.spacing(3)},tabs:{width:"100%"},text:{fontSize:e.spacing(2)},card:{padding:0}}})),U=n(177),L=n(178),P=n(179),D=n(2);function q(e){var t=J();return Object(D.jsx)(W.a,{className:t.content,children:Object(D.jsx)(U.a,{position:"static",className:t.header,children:Object(D.jsx)(L.a,{children:Object(D.jsx)(P.a,{className:t.title,variant:"h1",children:"Currency Exchange"})})})})}var G=n(142),K=n(186),Q=n(180);function X(e){var t=J(),n=Object(o.b)(),a=Object(o.c)((function(e){return e.ActualTab.actual}));return Object(D.jsx)(G.a,{className:t.paper,children:Object(D.jsxs)(K.a,{value:a,onChange:function(e,t){n(y(t))},className:t.tabs,textColor:"secondary",children:[Object(D.jsx)(Q.a,{label:"\u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0430\u043b\u044e\u0442"}),Object(D.jsx)(Q.a,{label:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440 \u0432\u0430\u043b\u044e\u0442"})]})})}var Y=n(184);function Z(e,t,n){return e.filter((function(e){return-1!==e[n].toLowerCase().indexOf(t.toLowerCase())}))}function $(e){var t=e.setState,n=Object(o.c)((function(e){return e.Currencies.currencies})),r=J(),i=c.a.useState(""),s=Object(_.a)(i,2),u=s[0],l=s[1];return Object(a.useEffect)((function(){u.charCodeAt()>61&&u.charCodeAt()<122?t(Z(n,u,"CharCode")):t(Z(n,u,"Name"))}),[u]),Object(D.jsx)(W.a,{className:r.input,children:Object(D.jsx)(G.a,{children:Object(D.jsx)(Y.a,{id:"filled-search",fullWidth:!0,label:"\u041f\u043e\u0438\u0441\u043a \u0432\u0430\u043b\u044e\u0442\u044b",type:"search",variant:"filled",avtocomplite:"off",value:u,onChange:function(e){return l(""===(t=e.target.value)?"":t.replace(/[\d]/g,""));var t}})})})}var ee=n(185);function te(e){var t=e.children,n=e.value,a=e.index;return Object(D.jsx)("div",{hidden:n!==a,children:n===a&&Object(D.jsx)(ee.a,{p:3,children:t})})}var ne=n(182),ae=n(18),ce=Object(H.a)((function(e){var t,n;return{root:Object(ae.a)({borderRadius:e.spacing(1),margin:e.spacing(1)},e.breakpoints.between("sm","md"),{backgroundColor:"lightgrey"}),title:(t={marginTop:e.spacing(1),fontSize:e.spacing(2.5)},Object(ae.a)(t,e.breakpoints.between("xs","sm"),{fontSize:e.spacing(1.5)}),Object(ae.a)(t,"& .MuiToolbar-regular",{minHeight:e.spacing(4)}),Object(ae.a)(t,"alignItems","flex-end"),t),icon:(n={},Object(ae.a)(n,e.breakpoints.up("sm"),{display:"none"}),Object(ae.a)(n,"transform","rotate(90deg)"),Object(ae.a)(n,"height",e.spacing(3)),Object(ae.a)(n,"fontSize",e.spacing(2)),n),container:Object(ae.a)({},e.breakpoints.between("xs","sm"),{flexWrap:"nowrap",justifyContent:"space-between"}),value:Object(ae.a)({},e.breakpoints.between("xs","sm"),{maxWidth:e.spacing(22),justifyContent:"space-between"}),diff:Object(ae.a)({},e.breakpoints.between("xs","sm"),{marginLeft:e.spacing(5)}),green:{color:e.palette.success.main},arrow:Object(ae.a)({},e.breakpoints.between("xs","sm"),{fontSize:e.spacing(2.2),padding:e.spacing(.2),marginBottom:e.spacing(.4)}),red:{color:e.palette.secondary.main}}}));function re(e){var t=ce();return Object(D.jsx)(L.a,{children:Object(D.jsx)(P.a,{disabled:!0,className:t.title,children:e.Name})})}function ie(e){var t=ce();return Object(D.jsxs)(P.a,{className:t.currency,children:[e.Nominal,e.CharCode]})}function oe(e){var t=Object(o.b)(),n=ce();return Object(D.jsxs)(P.a,{className:n.currency,onClick:function(){t(y(1)),t(g(e))},children:[e.Value.toFixed(2),"RUB"]})}var se=n(92),ue=n.n(se),le=n(93),je=n.n(le);var be=function(e){var t=ce();return Object(D.jsxs)(P.a,{className:e.priceRise?t.green:t.red,children:[e.priceRise?Object(D.jsx)(ue.a,{className:t.arrow}):Object(D.jsx)(je.a,{className:t.arrow}),e.diff]})},de=n(57),Oe=n.n(de);function me(e){var t=ce();return Object(D.jsx)(L.a,{children:Object(D.jsxs)(ne.a,{container:!0,className:t.container,children:[Object(D.jsxs)(ne.a,{container:!0,className:t.value,children:[Object(D.jsx)(ie,Object(u.a)({},e)),Object(D.jsx)(Oe.a,{className:t.icon}),Object(D.jsx)(oe,Object(u.a)({},e))]}),Object(D.jsx)(be,Object(u.a)(Object(u.a)({},e),{},{className:t.diff}))]})})}function pe(e){var t=ce();return Object(D.jsx)(G.a,{className:t.root,children:Object(D.jsxs)(ne.a,{container:!0,children:[Object(D.jsx)(ne.a,{item:!0,xs:12,className:t.title,children:Object(D.jsx)(re,Object(u.a)({},e))}),Object(D.jsx)(ne.a,{item:!0,xs:12,className:t.content,children:Object(D.jsx)(me,Object(u.a)({},e))})]})})}function fe(e){return e.currencies.map((function(e,t){return Object(D.jsx)(pe,Object(u.a)({},e),t)}))}var he=n(46),xe=n(183),ve=Object(H.a)((function(e){return{root:{display:"flex",marginTop:e.spacing(10),top:e.spacing(18),backgroundColor:e.palette.info.light,minHeight:e.spacing(25),direction:"row",justifyContent:"center",alignItems:"center",borderRadius:e.spacing(2)},grid:{display:"flex",margin:"0 auto",justifyContent:"center",alignItems:"center"},button:{height:e.spacing(8),width:e.spacing(8),borderRadius:"50%"},icon:{transform:"rotate(90deg)",color:e.palette.info.light,height:e.spacing(8),fontSize:e.spacing(6)},paper:{borderRadius:e.spacing(2)},title:{marginTop:e.spacing(1),fontSize:e.spacing(3)},input:{fontSize:e.spacing(4),textOverflow:"clip","& .MuiInputBase-input":{padding:0},"& .MuiInput-underline:before":{borderBottom:"none"},"& .MuiInputBase-root:hover":{border:"none"},"& .MuiInput-underline:hover":{border:"none"},"& .MuiInput-underline:after":{border:"none"}},container:{marginBottom:e.spacing(1)},selector:{width:"100%",display:"flex",alignItems:"center"}}}));function ge(e){var t=ve();return e.convertTo?Object(D.jsx)(L.a,{children:Object(D.jsx)(P.a,{disabled:!0,className:t.title,variant:"h6",children:"from"===e.id?e.convertFrom.Name:e.convertTo.Name})}):null}var Ne=n(181),Ce=n(188),ye=Object(H.a)((function(e){return{root:{width:"75%",borderBottom:"none","& .MuiSelect-root":{fontSize:e.spacing(4)},"& .MuiSelect-selectMenu":{minHeight:0},"& .MuiInput-underline:before":{borderBottom:"none"},"& .MuiInputBase-root:hover":{border:"none"},"& .MuiInput-underline:hover:before":{border:"none"},"& .MuiInput-underline:after":{border:"none"}}}}));function Te(e){var t=ye();return 0===e.currencies.length?null:Object(D.jsx)(Y.a,{className:t.root,id:e.id,select:!0,value:"from"===e.id?e.convertFrom.CharCode:e.convertTo.CharCode,onChange:function(t){return e.handleSelectValue(t.target.value,e.id)},children:e.currencies?e.currencies.map((function(e){return Object(D.jsx)(Ce.a,{value:e.CharCode,children:e.CharCode},e.CharCode)})):null})}function we(e){var t=ve();return Object(D.jsx)(L.a,{children:Object(D.jsxs)(ne.a,{container:!0,spacing:2,children:[Object(D.jsx)(ne.a,{item:!0,xs:6,className:t.selector,children:Object(D.jsx)(Te,Object(u.a)({},e))}),Object(D.jsx)(ne.a,{item:!0,xs:6,children:Object(D.jsx)(Ne.a,{className:t.input,id:e.id,value:"from"===e.id?e.amountFrom:e.amountTo,onChange:function(t){return e.handleInputValue(function(e){if(""===e)return"";var t=Number.parseInt(e);return Number.isNaN(t)?"":t}(t.target.value),e.id)}})})]})})}function Se(e){var t=ve();return Object(D.jsx)(G.a,{className:t.paper,children:Object(D.jsxs)(ne.a,{container:!0,children:[Object(D.jsx)(ne.a,{item:!0,xs:12,className:t.title,children:Object(D.jsx)(ge,Object(u.a)({},e))}),Object(D.jsx)(ne.a,{item:!0,xs:12,className:t.container,children:Object(D.jsx)(we,Object(u.a)({},e))})]})})}function ke(e){var t=ve();return Object(D.jsx)(W.a,{maxWidth:"md",className:t.root,children:Object(D.jsxs)(ne.a,{container:!0,children:[Object(D.jsx)(ne.a,{item:!0,sm:5,className:t.paper,children:Object(D.jsx)(Se,Object(u.a)(Object(u.a)({},e),{},{id:"from"}))}),Object(D.jsx)(ne.a,{item:!0,sm:2,className:t.grid,children:Object(D.jsx)(xe.a,{variant:"contained",className:t.button,children:Object(D.jsx)(Oe.a,{className:t.icon,onClick:e.handleClick})})}),Object(D.jsx)(ne.a,{item:!0,sm:5,children:Object(D.jsx)(Se,Object(u.a)(Object(u.a)({},e),{},{id:"to"}))})]})})}function Ie(e,t,n){return""===n?"":(e.Value/e.Nominal/(t.Value/t.Nominal)*n).toFixed(2)}function Fe(e){var t=Object(o.b)(),n=Object(o.c)((function(e){return e.Conversion})),c=n.convertFrom,r=n.convertTo,i=n.convert,s=Object(o.c)((function(e){return e.Amount})),u=s.amountFrom,l=s.amountTo;return Object(a.useEffect)((function(){var n;t((n=e.currencies,{type:h,array:n}))}),[e]),Object(D.jsx)(ke,{currencies:i,convertFrom:c,convertTo:r,amountFrom:u,amountTo:l,handleInputValue:function(e,n){"from"===n&&(t(I(e)),t(k(Ie(c,r,e)))),"to"===n&&(t(k(e)),t(I(Ie(r,c,e))))},handleSelectValue:function(e,n){var a=i.filter((function(t){return t.CharCode===e}));"from"===n&&(t(v.apply(void 0,Object(he.a)(a))),t(k(Ie.apply(void 0,Object(he.a)(a).concat([r,u]))))),"to"===n&&(t(g.apply(void 0,Object(he.a)(a))),t(k(Ie.apply(void 0,[c].concat(Object(he.a)(a),[u])))))},handleClick:function(){t(g(c)),t(v(r)),t(k(u)),t(I(l))}})}function Me(e){var t=J(),n=Object(o.c)((function(e){return e.ActualTab.actual}));return Object(D.jsxs)(W.a,{className:t.root,maxWidth:"md",children:[0===n?Object(D.jsx)($,Object(u.a)({},e)):null,Object(D.jsxs)(W.a,{className:t.card,children:[Object(D.jsx)(te,{value:n,index:0,children:Object(D.jsx)(fe,Object(u.a)({},e))}),Object(D.jsx)(te,{value:n,index:1,children:Object(D.jsx)(Fe,Object(u.a)({},e))})]})]})}function Ee(e){var t=J(),n=e.currencies,c=(Object(o.c)((function(e){return e.ActualTab.actual})),Object(a.useState)()),r=Object(_.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){s(n)}),[e]),Object(D.jsxs)(W.a,{className:t.root,maxWidth:"lg",children:[Object(D.jsxs)(W.a,{className:t.content,children:[Object(D.jsx)(q,{}),Object(D.jsx)(X,{})]}),Object(D.jsx)(Me,{currencies:i||n,setState:s})]})}function Re(){var e=Object(o.c)((function(e){return e.Currencies.currencies})),t=Object(o.b)();return Object(a.useEffect)((function(){t(Object(z.a)(R.a.mark((function e(){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:n=e.sent,t(d(n));case 4:case"end":return e.stop()}}),e)}))))}),[t]),Object(D.jsx)(Ee,{currencies:e})}i.a.render(Object(D.jsx)(o.a,{store:M,children:Object(D.jsx)(s.a,{children:Object(D.jsx)(Re,{})})}),document.getElementById("root"))}},[[139,1,2]]]);
//# sourceMappingURL=main.28c10eb8.chunk.js.map